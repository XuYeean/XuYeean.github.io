<script setup>
import { computed } from "vue";
import { useRouter } from "vue-router";
const modules = import.meta.globEager("../views/ChildPage/*.vue");
const router = useRouter();
let project = [];
Object.keys(modules).map((key) => {
  project.push(key.split("/").pop().split(".")[0]);
});
const to = (index) => {
  router.push({ path: index });
};
const projectImg = computed(() => {
  return (param) => `../assets/resources/${param}/${param}.png`;
});
const contact = (param) => {
  window.open("https://github.com/XuYeean");
};
</script>
<template>
  <div id="home">
    <div class="main">
      <div class="picture"></div>
      <h1>徐乔年</h1>
      <span>在校摆烂大学生</span>
      <div class="information">
        <div>
          <svg
            t="1676567546532"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1237"
            width="18"
            height="18"
          >
            <path
              d="M68.399765 590.615655c-37.073602 90.765025-43.465533 176.418105-14.062849 191.757941 20.45478 11.505876 53.692423-14.061849 84.374094-60.084355 11.504876 51.135451 42.186547 95.87897 84.373094 132.952572-44.743519 16.619821-74.146204 44.743519-74.146204 75.42519 0 51.135451 79.259149 93.321998 176.418105 93.321997 88.208052 0 161.07627-33.237643 175.138119-77.982162h20.45478C535.009753 990.751357 607.87897 1023.989 696.087023 1023.989c98.436943 0 176.418105-40.908561 176.418104-93.321997 0-30.68167-29.402684-58.806368-74.146203-75.42519 42.186547-37.073602 72.868217-81.817121 84.374094-132.952572 30.68067 46.022506 62.640327 71.589231 84.373093 60.084355 30.68167-15.339835 24.289739-102.270901-14.061849-191.757941-29.403684-70.311245-69.033258-122.725682-99.714929-134.230558 0-3.835959 1.278986-8.949904 1.278987-14.062849 0-26.845712-7.669918-52.413437-20.454781-72.868217v-5.112945c0-12.783863-2.555973-24.289739-7.669917-34.516629C818.813704 145.736434 701.200968 0 510.722014 0 320.24206 0 202.630323 145.736434 194.959406 329.824457c-5.112945 10.22689-7.669918 21.732767-7.669918 34.516629v5.112945c-12.783863 20.45478-20.45478 46.022506-20.45478 72.869217v14.061849c-28.123698 11.504876-69.032258 62.640327-98.434943 134.230558z"
              fill="#33d0dc"
              p-id="1238"
            ></path>
          </svg>
        </div>
        <div>
          <svg
            t="1676567574331"
            class="icon"
            viewBox="0 0 1025 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1385"
            width="18"
            height="18"
          >
            <path
              d="M1024.16 694.816c0-149.92-143.104-271.392-319.584-271.392-176.576 0-319.68 121.504-319.68 271.392S528 966.208 704.576 966.208c55.456 0 107.648-12.096 153.184-33.248l125.984 54.528-14.592-140.544c34.784-43.392 55.04-95.808 55.04-152.128zM596.832 621.28c-25.152 0-45.472-20.352-45.472-45.472s20.32-45.472 45.472-45.472c25.12 0 45.44 20.384 45.44 45.472s-20.384 45.472-45.44 45.472z m215.392 0c-25.056 0-45.44-20.352-45.44-45.472s20.384-45.472 45.44-45.472c25.184 0 45.536 20.384 45.536 45.472s-20.352 45.472-45.536 45.472zM704.576 387.488c49.376 0 96.416 8.8 139.264 24.64 0.32-5.728 0.992-11.232 0.992-16.992 0-198.08-189.152-358.624-422.432-358.624C189.184 36.512 0.032 197.024 0.032 395.136c0 74.496 26.816 143.776 72.704 201.12L53.472 781.92l166.432-72.096c41.216 19.2 86.784 32.16 134.88 38.784-3.616-17.504-5.824-35.424-5.824-53.792 0.032-169.44 159.552-307.296 355.616-307.296z m-139.808-209.6c33.184 0 60 26.88 60 60 0 33.184-26.816 60.064-60 60.064s-60.032-26.88-60.032-60.064c0-33.152 26.88-60 60.032-60zM280.032 297.952c-33.184 0-60-26.88-60-60.064 0-33.152 26.848-60 60-60 33.184 0 60.032 26.88 60.032 60s-26.88 60.064-60.032 60.064z"
              fill="#47c4b2"
              p-id="1386"
            ></path>
          </svg>
        </div>
        <div @click="contact('GITHUB')" class="github">
          <svg
            t="1676567596980"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1533"
            width="18"
            height="18"
          >
            <path
              d="M465.981 1001.74a89.578 89.578 0 0 1-89.889-88.955l-0.356-63.666c-176.662 38.422-213.927-74.93-213.927-74.93-28.895-73.372-70.523-92.873-70.523-92.873-57.61-39.446 4.364-38.645 4.364-38.645 63.71 4.452 97.28 65.447 97.28 65.447 56.631 97.058 148.569 69.009 184.765 52.803 5.699-41.049 22.172-69.053 40.337-84.947-141.045-16.028-289.303-70.523-289.303-313.79 0-69.32 24.799-125.952 65.447-170.429-6.589-16.028-28.316-80.584 6.144-168.025 0 0 53.337-17.052 174.659 65.09a609.28 609.28 0 0 1 158.943-21.37c53.915 0.223 108.276 7.257 159.031 21.37C814.186 6.679 867.434 23.73 867.434 23.73c34.549 87.485 12.822 152.042 6.233 168.025 40.693 44.433 65.358 101.109 65.358 170.43 0 243.89-148.57 297.583-289.926 313.299 22.751 19.723 43.053 58.323 43.053 117.582 0 84.992-0.312 119.674-0.312 119.674a89.622 89.622 0 0 1-89.8 89H465.98z"
              fill="#fffffc"
              p-id="1534"
            ></path>
          </svg>
        </div>
      </div>
      <div style="position: absolute; bottom: 12px">软件</div>
    </div>
    <div class="page">
      <div class="AppList">
        <div
          v-for="index in project"
          :key="index"
          @click="to(`/${index}`)"
          class="block"
          style="
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: center;
            padding: 0 40px;
          "
        >
          <img
            :src="projectImg(index)"
            style="width: 100px; border-radius: 20px; margin-bottom: 40px"
          />
          <div style="font-size: 2.4rem; font-weight: 100">{{ index }}</div>
        </div>
      </div>
    </div>
  </div>
</template>
<style scoped>
h1 {
  font-size: 3.2em;
}

#home {
  height: 100vh;
  overflow: scroll;
  scroll-snap-type: y mandatory;
}
#home > div {
  scroll-snap-align: start;
  height: 100vh;
  align-items: center;
}
.main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
}
.AppList {
  transition: all 0.64s cubic-bezier(0.18, 0.89, 0.32, 1.12);
  width: 90vw;
  margin: auto;
  height: 80vh;
  display: grid;
  overflow: scroll;
  justify-items: center;
  grid-template-columns: repeat(4, 1fr);
  grid-gap: 100px;
  column-gap: 120px;
}

.block {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(24px);
  border-radius: 24px;
  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.2);
  break-inside: avoid;
  min-height: 180px;
  max-width: 120px;
}
.picture {
  width: 100px;
  height: 100px;
  background-image: url("../picture.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  border-radius: 50%;
}
.information {
  display: flex;
  width: 160px;
  justify-content: space-between;
  margin-top: 24px;
  position: relative;
}
.information div:not(.github)::after {
  content: "";
  position: absolute;
  width: 200px;
  height: 200px;
  background-color: transparent;
  border-radius: 12px;
  transition: all 0.64s cubic-bezier(0.18, 0.89, 0.32, 1.12);
  z-index: 1;
}
.information div:nth-child(1):after {
  pointer-events: none;
  border: 10px solid #f4f9fb;
  opacity: 0;
  left: -64%;
  top: -1000%;
  background: url("../QQ.png") no-repeat;
  background-size: cover;
}
.information div:nth-child(1):hover::after {
  opacity: 1;
  left: -64%;
  top: 200%;
}
.information div:nth-child(2):after {
  background: url("../WX.png") no-repeat;
  border: 10px solid #29ad68;
  background-size: cover;
  pointer-events: none;

  opacity: 0;
  left: -20%;
  top: -1000%;
}
.information div:nth-child(2):hover::after {
  opacity: 1;
  left: -20%;
  top: 200%;
}
.information div {
  cursor: pointer;
}
.page {
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

@media screen and (max-width: 1200px) {
  .AppList {
    grid-template-columns: repeat(3, 1fr);
    column-gap: 0;
    margin-top: 48px;
    height: 92vh;
    width: 94vw;
  }
}
@media screen and (max-width: 800px) {
  .AppList {
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 72px;
    column-gap: 0;
    margin-top: 48px;
    width: 88vw;
  }
}
</style>
